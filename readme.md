# RM_Judge_System

## å·¥ä½œè¿›å±•
* å®Œæˆäº†2019å¹´è£åˆ¤ç³»ç»Ÿçš„ä¸²å£æ•°æ®è¯»å–ä¸ä¿¡æ¯è·å–
* å¤§è‡´å®ŒæˆCRCæ£€éªŒ

## æ–‡ä»¶åˆ†å¸ƒ
* è£åˆ¤ç³»ç»Ÿè¯»å–çš„ä»£ç æ”¾åœ¨ [./Inc/judge.h](https://github.com/dearmrlv/RM_Judge_System/blob/master/Inc/judge.h) åŠ [./Src/judge.c](https://github.com/dearmrlv/RM_Judge_System/blob/master/Src/judge.c) ä¸­
* CRCçš„å‚è€ƒä»£ç æ”¾åœ¨ [./Inc/crc.h](https://github.com/dearmrlv/RM_Judge_System/tree/master/Src) å’Œ [./Src/crc.c](https://github.com/dearmrlv/RM_Judge_System/blob/master/Src/crc.c) ä¸­

## ä»£ç ä½¿ç”¨æŒ‡å—
* æœ¬é¡¹ç›®ç”±STM32CubeMXç”Ÿæˆï¼Œä½¿ç”¨TTLä¸²å£åè®®ä¸è£åˆ¤ç³»ç»Ÿé€šè®¯ï¼Œéœ€è¦å¼€å¯USARTåŠå…¶ä¸­æ–­åŠŸèƒ½
* éœ€è¦æ›´æ–°è£åˆ¤ç³»ç»Ÿçš„2019å¹´ç‰ˆçš„å›ºä»¶åº“è‡³æœ€æ–°ç‰ˆæœ¬
* å·²ç»å®šä¹‰çš„å…¨å±€å˜é‡ï¼š
```C
judge_data JData;	// è£åˆ¤ç³»ç»Ÿå‘é€çš„æ‰€æœ‰æ•°æ®
uint8_t RX_BUF[RX_BUF_LEN];		// å®šä¹‰æ•°æ®æ¥æ”¶çš„ç¼“å†²åŒº
frame tmp_frame;	// æ‹†åŒ…å¾—åˆ°çš„frame
```
* è£åˆ¤ç³»ç»Ÿçš„æ•°æ®è¯»å–ç”±
```short int getJData(frame frame_read, judge_data *JData)```å‡½æ•°å®ç°ï¼Œå­˜å‚¨åœ¨å˜é‡```JData```ä¸­


## å°šæœªè§£å†³çš„é—®é¢˜
* ä¸²å£æœ‰æ—¶å€™ä¼šæ”¶åˆ°cmd_idä¸º0x302çš„æ•°æ®åŒ…ï¼Œè€Œæ­¤å¯¹åº”çš„æ•°æ®åŒ…ç±»å‹åœ¨[åè®®æ‰‹å†Œ](https://github.com/RoboMaster/referee_serial_port_protocol/blob/master/doc/cn/è£åˆ¤ç³»ç»Ÿä¸²å£åè®®é™„å½•%20V2.0.pdf
)ä¸­æ²¡æœ‰æåŠï¼ˆæˆ‘çš„å›ºä»¶åº“ä¹Ÿæ›´æ–°åˆ°æœ€æ–°äº†ï¼‰
* CRCçš„åŸç†âœ– ä¸å‚è€ƒä»£ç çš„ä¿®æ”¹ä¸ä½¿ç”¨âœ”
* æŠŠfloatçš„äºŒè¿›åˆ¶è¡¨ç¤ºå˜ä¸ºfloatå‹

## TO DO
* å®Œæˆè£åˆ¤ç³»ç»Ÿå…¶ä»–ç±»å‹çš„æ•°æ®åŒ…çš„å¤„ç†ï¼ˆç›®å‰åªå¤„ç†äº†å®æ—¶åŠŸç‡çƒ­é‡ä»¥åŠåœºåœ°è¡¥ç»™åŠ¨ä½œä¿¡æ¯ï¼‰
* åœ¨ç¨‹åºä¸­æ­è½½CRCåŠŸèƒ½   âœ”
   * è™½ç„¶è¿˜æ˜¯ä¸å¤ªæ˜ç™½åŸç†ğŸ˜­â€¦â€¦å¥½åƒè·Ÿè®¡ç½‘ä¹¦ä¸Šè®²çš„è¿‡ç¨‹ä¸å¤ªä¸€æ ·ï¼Ÿï¼Ÿ
   * ä½¿ç”¨äº†[åè®®æ‰‹å†Œ](https://github.com/RoboMaster/referee_serial_port_protocol/blob/master/doc/cn/è£åˆ¤ç³»ç»Ÿä¸²å£åè®®é™„å½•%20V2.0.pdf)åé¢é™„çš„ä»£ç 
* å®Œæˆæ•´å¥—è£åˆ¤ç³»ç»Ÿçš„æ­å»ºï¼ŒåŒ…æ‹¬å•ç‰‡æœºçš„å¤„ç†ã€Clientå’ŒServerçš„æ­å»º
* ### **å•ç‰‡æœºå‘è£åˆ¤ç³»ç»Ÿå‘æ•°æ®ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯ä¸Šæœ‰ç›¸åº”çš„æ˜¾ç¤º**